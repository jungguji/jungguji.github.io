
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Junggu Ji, 생각의 기록">
    <title>H2 DB에서 2D 좌표 저장하기 - Junggu Ji, 생각의 기록</title>
    <meta name="author" content="Junggu Ji">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Junggu Ji","sameAs":["https://github.com/jungguji","mailto"]},"articleBody":"서론 토이 프로젝트를 진행 중, 장소의 위치의 위도, 경도 좌표를 저장해야 했는데, float type의 ‘latitude’, ‘longitude’라는 2개의 컬럼을 만들어서 각각 따로 저장하려고 했는데, 우연찮은 기회에 공간 데이터 타입이라는 것이 따로 있다는 것을 발견하여 적용해본 경험을 글로 작성하여 보려고 한다.\n본론 공간(空間, 영어: space)은 어떤 물질 또는 물체가 존재할 수 있거나 어떤 일이 일어날 수 있는 장소이다.\n위키백과공간\n\n\n\n공간 데이터란, 위 같은 점, 선, 면의 공간을 데이터화 한 것을 의미하는데, 필자는 지도에서 위치를 표시하기 위해 2D 공간 데이터인 점(Point) 데이터를 저장할 필요가 있었다.필자는 Spring boot + JPA(Hibernate) + H2 환경을 사용하고 있어서, 공간 데이터를 다루기 위해 hibernate-spatial 의존성을 추가해주었다.\n\n\n12345&lt;dependency&gt;    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;    &lt;version&gt;$&#123;hibernate.version&#125;&lt;/version&gt;&lt;/dependency&gt;\n\n\n\n그 후, hibernate-spatial 라이브러리에 포함된 The JTS Topology Suite를 사용해 좌표 데이터를 다루면 되는데, 위에서 말한 것처럼 필자는 2D 데이터를 다루기 위해 Point를 사용했다.\n\n\n123456789101112131415161718192021222324252627282930313233import javax.persistence.Column;import javax.persistence.Embeddable;import lombok.AccessLevel;import lombok.Builder;import lombok.Getter;import lombok.NoArgsConstructor;import org.locationtech.jts.geom.Point;@Embeddable@Getter@NoArgsConstructor(access = AccessLevel.PROTECTED)public class Address &#123;    @Column(name = &quot;road&quot;)    private String road;    @Column(name = &quot;jibun&quot;)    private String jibun;    @Column(name = &quot;zip&quot;, nullable = false)    private String zip;    @Column(name = &quot;location&quot;, nullable = false)    private Point location;    @Builder    public Address(String road, String jibun, String zip, Point location) &#123;        this.road = road;        this.jibun = jibun;        this.zip = zip;        this.location = location;    &#125;&#125;\n\n\n만약 필자처럼 Point를 사용할 경우 org.springframework.data.geo.Point를 import하면 정상적으로 동작하지 않으므로, 꼭 import문을 확인하길 바란다.\n\n위처럼 당차게 Entity class를 작성하고, 아래 같은 테스트 데이터를 넣고, 호기롭게 테스트를 돌려본 결과…\n입력 데이터123456789102022-11-30 22:48:44.230 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [TIMESTAMP] - [null]2022-11-30 22:48:44.231 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [null]2022-11-30 22:48:44.231 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [지번 서울시]2022-11-30 22:48:44.232 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARBINARY] - [POINT (19 2)]2022-11-30 22:48:44.233 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [도로명 서울시]2022-11-30 22:48:44.234 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [01006]2022-11-30 22:48:44.235 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [null]2022-11-30 22:48:44.235 TRACE 21788 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [VARCHAR] - [우리집]\n\n\n위 로그처럼 sql에 입력된 파라미터들이 보고 싶은 경우 아래처럼 설정을 추가해주면 된다.\n\n1234567logging:  level:    org:      hibernate:        type:          descriptor:            sql: trace\n\n\n발생한 에러 로그1234567891011121314151617181920212223Caused by: org.h2.jdbc.JdbcSQLDataException: Value too long for column &quot;LOCATION BINARY VARYING(255)&quot;: &quot;X&#x27;aced00057372001f6f72672e6c6f636174696f6e746563682e6a74732e67656f6d2e506f696e74... (1151)&quot;; SQL statement:insert into place (id, create_date, update_date, jibun, location, road, zip, category_id, name) values (default, ?, ?, ?, ?, ?, ?, ?, ?) [22001-214]\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:506)\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\tat org.h2.message.DbException.get(DbException.java:223)\tat org.h2.message.DbException.getValueTooLongException(DbException.java:322)\tat org.h2.value.Value.getValueTooLongException(Value.java:2573)\tat org.h2.value.Value.convertToVarbinary(Value.java:1371)\tat org.h2.value.Value.convertTo(Value.java:1125)\tat org.h2.value.Value.convertForAssignTo(Value.java:1092)\tat org.h2.table.Column.validateConvertUpdateSequence(Column.java:369)\tat org.h2.table.Table.convertInsertRow(Table.java:926)\tat org.h2.command.dml.Insert.insertRows(Insert.java:167)\tat org.h2.command.dml.Insert.update(Insert.java:135)\tat org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:242)\tat org.h2.command.CommandContainer.update(CommandContainer.java:163)\tat org.h2.command.Command.executeUpdate(Command.java:252)\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\t... 136 more\n\n\n\n테이블 생성 SQL123456789101112create table place (    id bigint generated by default as identity,    create_date timestamp,    update_date timestamp,    jibun varchar(255),    location varbinary(255) not null,    road varchar(255),    zip varchar(255) not null,    category_id bigint,    name varchar(255) not null,    primary key (id))\n\n이처럼 예상하지 못한 결과가 발생하였는데… 로그를 보니, table create 시 좌표를 저장하는 컬럼의 타입이 기대했던 GEOMETRY이 아닌, varbinary 타입으로 생성되어서 발생한 에러인가 싶어서 컬럼 타입을 “GEOMETRY”로 지정하고 생성해봤지만, 결과는 마찬가지였다.\n수정한 코드 및 실행된 SQL123456789...// columnDefinition 속성으로 컬럼 타입 지정@Column(name = &quot;location&quot;, nullable = false, columnDefinition = &quot;GEOMETRY&quot;) private Point location;...\n\n\n\n123456789101112create table place (    id bigint generated by default as identity,    create_date timestamp,    update_date timestamp,    jibun varchar(255),    location GEOMETRY not null, -- 정상적으로 컬럼의 데이터 타입이 GEOMETRY로 변경    road varchar(255),    zip varchar(255) not null,    category_id bigint,    name varchar(255) not null,    primary key (id))\n\n다시 원인을 검색해본 결과… hibernate-spatial에서는 H2가 아닌 H2의 확장 데이터베이스인 GeoDB를 지원한다고 되어있는 것을 확인할 수 있었다.\nThe GeoDBDialect supports the GeoDB a spatial extension of the H2 in-memory database.\nHibernate DocsGeoDB (H2)\n\n그 후 GeoDB를 적용하기 위해 properties 혹은 yaml에 아래처럼 dialect 설정에 org.hibernate.spatial.dialect.h2geodb.GeoDBDialect를 추가해 주면,\n12345678910111213141516spring:  datasource:    url: jdbc:h2:mem:test    username: sa    password:    driver-class-name: org.h2.Driver  jpa:    database-platform: org.hibernate.dialect.H2Dialect    defer-datasource-initialization: true    hibernate:      ddl-auto: create-drop    show-sql: true    properties:      hibernate:        dialect: org.hibernate.spatial.dialect.h2geodb.GeoDBDialect # 추가 혹은 변경\n\ndialect 설정 전 dialect12022-11-30 23:37:47.975  INFO 15720 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n\ndialect 설정 후 dialect12022-11-30 23:35:42.124  INFO 18400 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.spatial.dialect.h2geodb.GeoDBDialect\n\n\n\n\n\n\n\n이처럼 테스트가 성공하는 모습을  확인할 수 있었다.\n\n참고 사이트\nhttps://stackoverflow.com/questions/44261899/geometry-datatype-in-h2-w-spring-jpa\n\n","dateCreated":"2022-11-30T20:27:13+09:00","dateModified":"2022-11-30T20:27:13+09:00","datePublished":"2022-11-30T20:27:13+09:00","description":"","headline":"H2 DB에서 2D 좌표 저장하기","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/"},"publisher":{"@type":"Organization","name":"Junggu Ji","sameAs":["https://github.com/jungguji","mailto"]},"url":"https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/","keywords":"H2"}</script>
    <meta name="description" content="서론 토이 프로젝트를 진행 중, 장소의 위치의 위도, 경도 좌표를 저장해야 했는데, float type의 ‘latitude’, ‘longitude’라는 2개의 컬럼을 만들어서 각각 따로 저장하려고 했는데, 우연찮은 기회에 공간 데이터 타입이라는 것이 따로 있다는 것을 발견하여 적용해본 경험을 글로 작성하여 보려고 한다. 본론 공간(空間, 영어: space)">
<meta property="og:type" content="blog">
<meta property="og:title" content="H2 DB에서 2D 좌표 저장하기">
<meta property="og:url" content="https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/index.html">
<meta property="og:site_name" content="Junggu Ji, 생각의 기록">
<meta property="og:description" content="서론 토이 프로젝트를 진행 중, 장소의 위치의 위도, 경도 좌표를 저장해야 했는데, float type의 ‘latitude’, ‘longitude’라는 2개의 컬럼을 만들어서 각각 따로 저장하려고 했는데, 우연찮은 기회에 공간 데이터 타입이라는 것이 따로 있다는 것을 발견하여 적용해본 경험을 글로 작성하여 보려고 한다. 본론 공간(空間, 영어: space)">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/1_%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%84%B1%EA%B3%B5.PNG">
<meta property="article:published_time" content="2022-11-30T11:27:13.000Z">
<meta property="article:modified_time" content="2022-11-30T11:27:13.000Z">
<meta property="article:author" content="Junggu Ji">
<meta property="article:tag" content="H2">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/1_%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%84%B1%EA%B3%B5.PNG">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-vaqxmiojfeym1obe22l4wzlc2exrxuyy1hezfoyofzx2ow3vxa49a2skiig7.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162527815-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-162527815-1');
    </script>


    

    
        
    

    <script data-ad-client="ca-pub-6264654331856753" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/" aria-label>
            Junggu Ji, 생각의 기록
        </a>
    </div>
    
        
            <a class="header-right-picture " href="#about" aria-label="링크 열기: /#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/" rel="noopener" title="Home">
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" rel="noopener" title="카테고리">
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" rel="noopener" title="태그">
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" rel="noopener" title="아카이브">
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" rel="noopener" title="About">
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/jungguji" target="_blank" rel="external nofollow noopener noreferrer" title="GitHub">
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/mailto" rel="noopener" title="Mail">
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" rel="noopener" title="RSS">
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4" class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            H2 DB에서 2D 좌표 저장하기
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2022-11-30T20:27:13+09:00">
	
		    2022/11/30
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p> <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/jungguji/sokdak-sokdak">토이 프로젝트</a>를 진행 중, 장소의 위치의 위도, 경도 좌표를 저장해야 했는데, float type의 ‘latitude’, ‘longitude’라는 2개의 컬럼을 만들어서 각각 따로 저장하려고 했는데, 우연찮은 기회에 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://dev.mysql.com/doc/refman/8.0/en/spatial-type-overview.html">공간 데이터 타입</a>이라는 것이 따로 있다는 것을 발견하여 적용해본 경험을 글로 작성하여 보려고 한다.</p>
<h2 id="본론"><a href="#본론" class="headerlink" title="본론"></a>본론</h2> <blockquote><p>공간(空間, 영어: space)은 어떤 물질 또는 물체가 존재할 수 있거나 어떤 일이 일어날 수 있는 장소이다.</p>
<footer><strong>위키백과</strong><cite><a target="_blank" rel="external nofollow noopener noreferrer" href="https://ko.wikipedia.org/wiki/%EA%B3%B5%EA%B0%84">공간</a></cite></footer></blockquote>

<br>

<p>공간 데이터란, 위 같은 점, 선, 면의 공간을 데이터화 한 것을 의미하는데, 필자는 지도에서 위치를 표시하기 위해 2D 공간 데이터인 점(Point) 데이터를 저장할 필요가 있었다.<br>필자는 Spring boot + JPA(Hibernate) + H2 환경을 사용하고 있어서, 공간 데이터를 다루기 위해 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial">hibernate-spatial</a> 의존성을 추가해주었다.</p>
<br>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-spatial<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;hibernate.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>그 후, hibernate-spatial 라이브러리에 포함된 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/locationtech/jts">The JTS Topology Suite</a>를 사용해 좌표 데이터를 다루면 되는데, 위에서 말한 것처럼 필자는 2D 데이터를 다루기 위해 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://locationtech.github.io/jts/javadoc/org/locationtech/jts/geom/Point.html">Point</a>를 사용했다.</p>
<br>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.persistence.Column;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Embeddable;</span><br><span class="line"><span class="keyword">import</span> lombok.AccessLevel;</span><br><span class="line"><span class="keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> org.locationtech.jts.geom.Point;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Embeddable</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;road&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String road;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;jibun&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String jibun;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;zip&quot;, nullable = false)</span></span><br><span class="line">    <span class="keyword">private</span> String zip;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;location&quot;, nullable = false)</span></span><br><span class="line">    <span class="keyword">private</span> Point location;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Builder</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Address</span><span class="params">(String road, String jibun, String zip, Point location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.road = road;</span><br><span class="line">        <span class="keyword">this</span>.jibun = jibun;</span><br><span class="line">        <span class="keyword">this</span>.zip = zip;</span><br><span class="line">        <span class="keyword">this</span>.location = location;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>만약 필자처럼 Point를 사용할 경우 org.springframework.data.geo.Point를 import하면 정상적으로 동작하지 않으므로, 꼭 import문을 확인하길 바란다.</li>
</ul>
<p>위처럼 당차게 Entity class를 작성하고, 아래 같은 테스트 데이터를 넣고, 호기롭게 테스트를 돌려본 결과…</p>
<h3 id="입력-데이터"><a href="#입력-데이터" class="headerlink" title="입력 데이터"></a>입력 데이터</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.230</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">1</span>] as [TIMESTAMP] - [<span class="keyword">null</span>]</span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.231</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">2</span>] as [TIMESTAMP] - [<span class="keyword">null</span>]</span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.231</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">3</span>] as [VARCHAR] - [지번 서울시]</span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.232</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">4</span>] as [VARBINARY] - [POINT (<span class="number">19</span> <span class="number">2</span>)]</span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.233</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">5</span>] as [VARCHAR] - [도로명 서울시]</span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.234</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">6</span>] as [VARCHAR] - [<span class="number">01006</span>]</span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.235</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">7</span>] as [BIGINT] - [<span class="keyword">null</span>]</span><br><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">22</span>:<span class="number">48</span>:<span class="number">44.235</span> TRACE <span class="number">21788</span> --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [<span class="number">8</span>] as [VARCHAR] - [우리집]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>위 로그처럼 sql에 입력된 파라미터들이 보고 싶은 경우 아래처럼 설정을 추가해주면 된다.</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">org:</span></span><br><span class="line">      <span class="attr">hibernate:</span></span><br><span class="line">        <span class="attr">type:</span></span><br><span class="line">          <span class="attr">descriptor:</span></span><br><span class="line">            <span class="attr">sql:</span> <span class="string">trace</span></span><br></pre></td></tr></table></figure>


<h3 id="발생한-에러-로그"><a href="#발생한-에러-로그" class="headerlink" title="발생한 에러 로그"></a>발생한 에러 로그</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Caused by: org.h2.jdbc.JdbcSQLDataException: Value too <span class="keyword">long</span> <span class="keyword">for</span> column <span class="string">&quot;LOCATION BINARY VARYING(255)&quot;</span>: <span class="string">&quot;X&#x27;aced00057372001f6f72672e6c6f636174696f6e746563682e6a74732e67656f6d2e506f696e74... (1151)&quot;</span>; SQL statement:</span><br><span class="line"><span class="function">insert into <span class="title">place</span> <span class="params">(id, create_date, update_date, jibun, location, road, zip, category_id, name)</span> <span class="title">values</span> <span class="params">(<span class="keyword">default</span>, ?, ?, ?, ?, ?, ?, ?, ?)</span> [22001-214]</span></span><br><span class="line"><span class="function">	at org.h2.message.DbException.<span class="title">getJdbcSQLException</span><span class="params">(DbException.java:<span class="number">506</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.message.DbException.<span class="title">getJdbcSQLException</span><span class="params">(DbException.java:<span class="number">477</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.message.DbException.<span class="title">get</span><span class="params">(DbException.java:<span class="number">223</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.message.DbException.<span class="title">getValueTooLongException</span><span class="params">(DbException.java:<span class="number">322</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.value.Value.<span class="title">getValueTooLongException</span><span class="params">(Value.java:<span class="number">2573</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.value.Value.<span class="title">convertToVarbinary</span><span class="params">(Value.java:<span class="number">1371</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.value.Value.<span class="title">convertTo</span><span class="params">(Value.java:<span class="number">1125</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.value.Value.<span class="title">convertForAssignTo</span><span class="params">(Value.java:<span class="number">1092</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.table.Column.<span class="title">validateConvertUpdateSequence</span><span class="params">(Column.java:<span class="number">369</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.table.Table.<span class="title">convertInsertRow</span><span class="params">(Table.java:<span class="number">926</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.command.dml.Insert.<span class="title">insertRows</span><span class="params">(Insert.java:<span class="number">167</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.command.dml.Insert.<span class="title">update</span><span class="params">(Insert.java:<span class="number">135</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.command.CommandContainer.<span class="title">executeUpdateWithGeneratedKeys</span><span class="params">(CommandContainer.java:<span class="number">242</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.command.CommandContainer.<span class="title">update</span><span class="params">(CommandContainer.java:<span class="number">163</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.command.Command.<span class="title">executeUpdate</span><span class="params">(Command.java:<span class="number">252</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.jdbc.JdbcPreparedStatement.<span class="title">executeUpdateInternal</span><span class="params">(JdbcPreparedStatement.java:<span class="number">209</span>)</span></span></span><br><span class="line"><span class="function">	at org.h2.jdbc.JdbcPreparedStatement.<span class="title">executeUpdate</span><span class="params">(JdbcPreparedStatement.java:<span class="number">169</span>)</span></span></span><br><span class="line"><span class="function">	at com.zaxxer.hikari.pool.ProxyPreparedStatement.<span class="title">executeUpdate</span><span class="params">(ProxyPreparedStatement.java:<span class="number">61</span>)</span></span></span><br><span class="line"><span class="function">	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.<span class="title">executeUpdate</span><span class="params">(HikariProxyPreparedStatement.java)</span></span></span><br><span class="line"><span class="function">	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.<span class="title">executeUpdate</span><span class="params">(ResultSetReturnImpl.java:<span class="number">197</span>)</span></span></span><br><span class="line"><span class="function">	... 136 more</span></span><br></pre></td></tr></table></figure>

<br>

<h3 id="테이블-생성-SQL"><a href="#테이블-생성-SQL" class="headerlink" title="테이블 생성 SQL"></a>테이블 생성 SQL</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> place (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">bigint</span> <span class="keyword">generated</span> <span class="keyword">by</span> <span class="keyword">default</span> <span class="keyword">as</span> <span class="keyword">identity</span>,</span><br><span class="line">    create_date <span class="built_in">timestamp</span>,</span><br><span class="line">    update_date <span class="built_in">timestamp</span>,</span><br><span class="line">    jibun <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    location varbinary(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    road <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    zip <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    category_id <span class="built_in">bigint</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    primary <span class="keyword">key</span> (<span class="keyword">id</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>이처럼 예상하지 못한 결과가 발생하였는데… 로그를 보니, table create 시 좌표를 저장하는 컬럼의 타입이 기대했던 <a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.h2database.com/html/datatypes.html#geometry_type">GEOMETRY</a>이 아닌, varbinary 타입으로 생성되어서 발생한 에러인가 싶어서 컬럼 타입을 “GEOMETRY”로 지정하고 생성해봤지만, 결과는 마찬가지였다.</p>
<h3 id="수정한-코드-및-실행된-SQL"><a href="#수정한-코드-및-실행된-SQL" class="headerlink" title="수정한 코드 및 실행된 SQL"></a>수정한 코드 및 실행된 SQL</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// columnDefinition 속성으로 컬럼 타입 지정</span></span><br><span class="line"><span class="meta">@Column(name = &quot;location&quot;, nullable = false, columnDefinition = &quot;GEOMETRY&quot;)</span> </span><br><span class="line"><span class="keyword">private</span> Point location;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> place (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">bigint</span> <span class="keyword">generated</span> <span class="keyword">by</span> <span class="keyword">default</span> <span class="keyword">as</span> <span class="keyword">identity</span>,</span><br><span class="line">    create_date <span class="built_in">timestamp</span>,</span><br><span class="line">    update_date <span class="built_in">timestamp</span>,</span><br><span class="line">    jibun <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    location GEOMETRY <span class="keyword">not</span> <span class="literal">null</span>, <span class="comment">-- 정상적으로 컬럼의 데이터 타입이 GEOMETRY로 변경</span></span><br><span class="line">    road <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    zip <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    category_id <span class="built_in">bigint</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    primary <span class="keyword">key</span> (<span class="keyword">id</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>다시 원인을 검색해본 결과… hibernate-spatial에서는 H2가 아닌 H2의 확장 데이터베이스인 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/jdeolive/geodb">GeoDB</a>를 지원한다고 되어있는 것을 확인할 수 있었다.</p>
<blockquote><p>The GeoDBDialect supports the GeoDB a spatial extension of the H2 in-memory database.</p>
<footer><strong>Hibernate Docs</strong><cite><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial">GeoDB (H2)</a></cite></footer></blockquote>

<p>그 후 GeoDB를 적용하기 위해 properties 혹은 yaml에 아래처럼 dialect 설정에 org.hibernate.spatial.dialect.h2geodb.GeoDBDialect를 추가해 주면,</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:h2:mem:test</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">sa</span></span><br><span class="line">    <span class="attr">password:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">org.h2.Driver</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">database-platform:</span> <span class="string">org.hibernate.dialect.H2Dialect</span></span><br><span class="line">    <span class="attr">defer-datasource-initialization:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">create-drop</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">properties:</span></span><br><span class="line">      <span class="attr">hibernate:</span></span><br><span class="line">        <span class="attr">dialect:</span> <span class="string">org.hibernate.spatial.dialect.h2geodb.GeoDBDialect</span> <span class="comment"># 추가 혹은 변경</span></span><br></pre></td></tr></table></figure>

<h3 id="dialect-설정-전-dialect"><a href="#dialect-설정-전-dialect" class="headerlink" title="dialect 설정 전 dialect"></a>dialect 설정 전 dialect</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">23</span>:<span class="number">37</span>:<span class="number">47.975</span>  INFO <span class="number">15720</span> --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect</span><br></pre></td></tr></table></figure>

<h3 id="dialect-설정-후-dialect"><a href="#dialect-설정-후-dialect" class="headerlink" title="dialect 설정 후 dialect"></a>dialect 설정 후 dialect</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2022</span>-<span class="number">11</span>-<span class="number">30</span> <span class="number">23</span>:<span class="number">35</span>:<span class="number">42.124</span>  INFO <span class="number">18400</span> --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.spatial.dialect.h2geodb.GeoDBDialect</span><br></pre></td></tr></table></figure>

<br>

<img src="/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/1_%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%84%B1%EA%B3%B5.PNG" class>

<br>

<p>이처럼 테스트가 성공하는 모습을  확인할 수 있었다.</p>
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://stackoverflow.com/questions/44261899/geometry-datatype-in-h2-w-spring-jpa">https://stackoverflow.com/questions/44261899/geometry-datatype-in-h2-w-spring-jpa</a></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/H2/" rel="tag">H2</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2022/12/26/JPA-CustomRepository-%EC%9E%91%EC%84%B1-%EC%8B%9C-%EC%9C%A0%EC%9D%98%EC%82%AC%ED%95%AD/" data-tooltip="JPA CustomRepository 작성 시 유의사항" aria-label="이전: JPA CustomRepository 작성 시 유의사항">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2022/10/16/Intelli-J-%EC%BD%94%EB%93%9C-%EC%9E%90%EB%8F%99%EC%83%9D%EC%84%B1-with-Live-Template/" data-tooltip="Intelli J 코드 자동생성(with Live Template)" aria-label="다음: Intelli J 코드 자동생성(with Live Template)">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="이 포스트 공유하기">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" title="Facebook에 공유하기" aria-label="Facebook에 공유하기" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://twitter.com/intent/tweet?text=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" title="Twitter에 공유하기" aria-label="Twitter에 공유하기" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://plus.google.com/share?url=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" title="Google+에 공유하기" aria-label="Google+에 공유하기" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <script src="https://utteranc.es/client.js" repo="jungguji/blog-comment" issue-term="og:title" theme="github-light" crossorigin="anonymous" async>
</script>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Junggu Ji. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2022/12/26/JPA-CustomRepository-%EC%9E%91%EC%84%B1-%EC%8B%9C-%EC%9C%A0%EC%9D%98%EC%82%AC%ED%95%AD/" data-tooltip="JPA CustomRepository 작성 시 유의사항" aria-label="이전: JPA CustomRepository 작성 시 유의사항">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2022/10/16/Intelli-J-%EC%BD%94%EB%93%9C-%EC%9E%90%EB%8F%99%EC%83%9D%EC%84%B1-with-Live-Template/" data-tooltip="Intelli J 코드 자동생성(with Live Template)" aria-label="다음: Intelli J 코드 자동생성(with Live Template)">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="이 포스트 공유하기">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" title="Facebook에 공유하기" aria-label="Facebook에 공유하기" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://twitter.com/intent/tweet?text=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" title="Twitter에 공유하기" aria-label="Twitter에 공유하기" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://plus.google.com/share?url=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" title="Google+에 공유하기" aria-label="Google+에 공유하기" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" aria-label="Facebook에 공유하기" rel="external nofollow noopener noreferrer">
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="_blank" href="https://twitter.com/intent/tweet?text=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" aria-label="Twitter에 공유하기" rel="external nofollow noopener noreferrer">
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="_blank" href="https://plus.google.com/share?url=https://jungguji.github.io/2022/11/30/H2-DB%EC%97%90%EC%84%9C-2D-%EC%A2%8C%ED%91%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/" aria-label="Google+에 공유하기" rel="external nofollow noopener noreferrer">
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Junggu Ji</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-fvy43rs4ns3qkm3cliupi5qtnm0vwph13v4ev99f0qvrcz9tbdyatctmah0i.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
